<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Title of our webpage. -->
    <title>Teams-Clone</title>
    <!-- Loading style.css which contains all our styling of the webpage. -->
    <link rel="stylesheet" type="text/css" href="style.css">
    <!-- Loading fontawesome for the icons. -->
    <script src="https://kit.fontawesome.com/45874c948e.js" crossorigin="anonymous"></script>
    <!-- Loading peerjs which simplifies WebRTC peer-to-peer data, video, and audio calls. -->
    <script src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js"></script>
    <!-- Loading socket.io javascript code in frontend. -->
    <script src="/socket.io/socket.io.js"></script>
    <!-- Loading bootstarap javascript. -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <!-- Passing the room id to frontend code . -->
    <script> 
        const Room_ID='<%= roomId %>' 
    </script>
</head>
<body>
    <!-- Header of the webpage which basically containes name of our application and the logo .-->
    <div class="header">
        <div class="logo">
            <i class="fas fa-users"></i>
        </div>
        <h3>MS Teams Clone</h3>
    </div>
    <!-- Main box of the webpage which contains the options, the videos and the messages. -->
    <div class="main">
        <!-- Left part of the main box of the webpage which contains the options and the videos. -->
        <div class="left">
            <!-- Containes all the control buttons. -->
            <div class="options_block">
                <div class="options">
                    <!-- Invite button -->
                    <div class="option_button">
                        <a href="#popup"><i class="fas fa-user-plus"></i></a>
                        <div class="text">Invite</div>
                    </div>
                    <!-- When invite button is clicked a popup message is seen which contains icons of different sites clicking on which can redirect us to the site from where invite link can be sent. -->
                    <div id="popup">
                        <a href="#"> <i class="fas fa-times-circle"></i> </a>
                        <p> Share link of the room </p>
                        <div class="share-btn-container">
                            <a href="#" class="facebook-btn" target  = "__blank">
                              <i class="fab fa-facebook"></i>
                            </a>
                            <a href="#" class="linkedin-btn" target  = "__blank">
                              <i class="fab fa-linkedin"></i>
                            </a>
                            <a href="#" class="whatsapp-btn" target  = "__blank">
                              <i class="fab fa-whatsapp"></i>
                            </a>
                        </div>
                    </div>
                    <!-- mute_unmute button with funcanality of muting and unmuting own audio. -->
                    <div onclick="mute_unmute()" class="option_button mic">
                        <i class="fas fa-microphone"></i>
                        <div class="text">Mute</div>
                    </div>
                    <!-- stop_start button with funcanality of stuping and starting own video. -->
                    <div onclick="stop_start()" class="option_button video_btn">
                        <i class="fas fa-video"></i>
                        <div class="text">Stop Video</div>
                    </div>
                    <!-- End call button which when clicked disconnect us from the room. -->
                    <div onclick="endCall()" class="option_button call_drop">
                        <a  href="https://www.google.com" > <i class="fas fa-phone"></i> </a>
                        <div class="text">End Call</div>
                    </div>
                </div>
            </div>
            <!-- Box containing videos. -->
            <div class="videos">
                <!-- In the video-grid we are going to put our videos. -->
                <div id="video-grid"></div>
            </div>
        </div>
        <!-- Right part of the main box of the webpage which contains the messages. -->
        <div class="right">
            <!-- Heading of chat box. -->
            <div class="chat_header">
                <div style="padding: 4px 100px;">Message</div>
             </div>
             <!-- Chat-box where messages will be added. -->
             <div class="chat_window">
                <ul class="messages">

                </ul>
             </div>
             <!-- Box to input message from user. -->
             <div class="message_container">
                <input id="chat" type="text" autocomplete="off" placeholder="Type a message">
            </div>
        </div>
    </div>  
</body>
<!-- Setting up our own script. -->
<script src="script.js"></script>
</html>



<!-- Chat pane in right side which will open on clicking -->
<!-- <div class="col-md-3 chat-col d-print-none mb-2 shade1" id='chat-pane' hidden> -->

    <!-- Heading of chat pane -->
    <!-- <div class="row">
        <div class="col-12 text-center h2 mb-3">CHAT</div>
    </div> -->

    <!-- Messages within pane -->
    <!-- Dynamically adds message -->
    <!-- <div id='chat-messages'></div> -->

    <!-- Box to input message from user -->
    <!-- <div class="row">
        <textarea id='chat-input' class="form-control rounded-0 chat-box border-dark" rows='3' placeholder="Type here..."></textarea>
    </div>

</div>


<button class="btn btn-sm text-white pull-right btn-no-effect" id='toggle-chat-pane'>
    <i class="fa fa-comments"></i> <span class="badge badge-danger very-small font-weight-lighter" id='new-chat-notification' hidden>New</span>
</button> -->




<!-- document.querySelector( '#toggle-chat-pane' ).addEventListener( 'click', ( e ) => {
    let chatElem = document.querySelector( '#chat-pane' );
    let mainSecElem = document.querySelector( '#main-section' );

    if ( chatElem.classList.contains( 'chat-opened' ) ) {
        chatElem.setAttribute( 'hidden', true );
        mainSecElem.classList.remove( 'col-md-9' );
        mainSecElem.classList.add( 'col-md-12' );
        chatElem.classList.remove( 'chat-opened' );
    }

    else {
        chatElem.attributes.removeNamedItem( 'hidden' );
        mainSecElem.classList.remove( 'col-md-12' );
        mainSecElem.classList.add( 'col-md-9' );
        chatElem.classList.add( 'chat-opened' );
    }

    //remove the 'New' badge on chat icon (if any) once chat is opened.
    setTimeout( () => {
        if ( document.querySelector( '#chat-pane' ).classList.contains( 'chat-opened' ) ) {
            helpers.toggleChatNotificationBadge();
        }
    }, 300 );
} ); -->

<!-- <div class="main__right">
    <div class="main__chat_window">
        <div class="messages">

        </div>
    </div>
    <div class="main__message_container">
      <input id="chat_message" type="text" autocomplete="off" placeholder="Type message here...">
      <div id="send" class="options__button">
        <i class="fa fa-plus" aria-hidden="true"></i>
      </div>
    </div>
  </div> -->

  <!-- <div class="chat_header">
                <i class="far fa-envelope"></i>
                <div class="title">Message</div>
            </div>
            <div class="chat_window">
                <div class="messages">
        
                </div>
            </div>
            <div class="message_container">
                <input id="chat" type="text" autocomplete="off" placeholder="Type a message">
                <div id="send" class="opt_button send_btn">
                    <i class="far fa-paper-plane"></i>
                </div> 
            </div> -->